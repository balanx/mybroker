#
# Copyright (C) 2018 tobalanx@qq.com
#


#: import Factory kivy.factory.Factory
#: include common.kv
#: include typeprice.kv
#: include typetime.kv


<MyTypeDropDown@TypeDropDown>:
    Button:
        text: 'Time'
        size_hint_y: None
        height: app.row_height
        on_release: root.select('Time')

    Button:
        text: 'Price'
        size_hint_y: None
        height: app.row_height
        on_release: root.select('Price')


<CondScreen>:

    BoxLayout:
        orientation: 'vertical'
        spacing: app.row_space
        id: layout

        BoxLayout:
            size_hint: (1, None)
            height: app.row_height

            Button:
                text: "<<"
                size_hint_x: None
                width: self.height
                on_release: root.row.close_cond()

            Button:
                size_hint_x: None
                width: self.height
                text: '~' if root.text[0] else '|'
                on_release: root.toggle_enable(self)

            Label:
                text: 'Condition'

            Button:
                text: "x"
                size_hint_x: None
                width: self.height
                on_release: root.row.notescr.del_cond(root.row)

        BoxLayout:
            size_hint: (1, None)
            height: app.row_height

            Label:
                text: "Type"

            Button:
                id: btn_type
                text: 'Select ...'
                on_release: Factory.MyTypeDropDown(root).open(self)



#
